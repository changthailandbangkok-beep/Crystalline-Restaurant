<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crystalline Restaurant</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts - Inter for a modern look -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: #fff;
            color: #222;
        }
        /* Custom scrollbar for better aesthetics */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f4f4f4;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb {
            background: #e0e0e0;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #c0392b;
        }

        /* Styles for the slider images */
        .slide-image {
            transition: opacity 0.7s ease-in-out;
            opacity: 0;
            position: absolute; /* Position all slides on top of each other */
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .slide-image.active {
            opacity: 1;
        }

        /* Styles for slider navigation buttons */
        .slider-nav-button {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: #c0392b;
            color: #fff;
            padding: 0.75rem;
            border-radius: 9999px;
            cursor: pointer;
            z-index: 20;
            border: 2px solid #c0392b;
            transition: background 0.3s, border 0.3s;
        }
        .slider-nav-button:hover {
            background: #fff;
            border-color: #c0392b;
            color: #c0392b;
        }

        /* Styles for slider dots */
        .slider-dot {
            width: 12px;
            height: 12px;
            background: #fff;
            border: 2px solid #c0392b;
            border-radius: 9999px;
            cursor: pointer;
            opacity: 0.7;
            transition: background 0.3s, border 0.3s, opacity 0.3s;
        }
        .slider-dot.active {
            background: #e74c3c;
            border-color: #c0392b;
        }
    </style>
</head>
<body class="min-h-screen">

    <!-- Header Section -->
    <header class="bg-[#c0392b] shadow-sm py-4 px-6 md:px-12 flex items-center justify-between border-b border-[#c0392b]">
        <!-- Logo/Site Name -->
        <div class="flex items-center space-x-4">
            <a href="index.html" class="text-2xl font-bold text-white">Crystalline Restaurant</a>
            <nav class="hidden md:flex space-x-6 text-white">
                <a href="index1.html" class="hover:text-[#ffe5e0] transition-colors">หน้าแรก</a>
                <a href="foodall.html" class="hover:text-[#ffe5e0] transition-colors">เมนูอาหาร</a>
                <a href="index010.html" class="hover:text-[#ffe5e0] transition-colors">ติดต่อเรา</a>
            </nav>
        </div>

        <!-- User Actions -->
        <div class="flex items-center space-x-4">
            <a href="lookin01.html" class="text-white hover:text-[#ffe5e0] transition-colors hidden sm:block" id="login-btn">
                <i class="fas fa-user mr-1"></i> เข้าสู่ระบบ
            </a>
            <button id="logout-btn" class="bg-white text-[#c0392b] px-4 py-2 rounded-full hover:bg-[#c0392b] hover:text-white border-2 border-white transition-colors flex items-center" style="display:none;">
                <i class="fas fa-sign-out-alt mr-2"></i> ออกจากระบบ
            </button>
            <a href="index01.html" class="bg-white text-[#c0392b] px-4 py-2 rounded-full hover:bg-[#c0392b] hover:text-white border-2 border-white transition-colors flex items-center relative" id="cart-link">
                <i class="fas fa-shopping-cart mr-2"></i> ตะกร้า
                <span id="cart-count" class="absolute -top-2 -right-2 bg-[#c0392b] text-white font-bold rounded-full px-2 text-xs border border-white" style="min-width:1.5rem; text-align:center; display:none;">0</span>
            </a>
        </div>
    </header>

    <!-- Mobile Search Bar (visible on small screens) -->
    <div class="md:hidden px-6 py-3 bg-white shadow-sm">
        <div class="relative">
            <input type="text" placeholder="ค้นหาสินค้าที่ต้องการ..." class="w-full pl-10 pr-4 py-2 rounded-full border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500">
            <i class="fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
        </div>
    </div>

    <!-- Hero/Banner Section - SLIDER IMPLEMENTATION -->
    <section class="relative w-full h-64 md:h-96 flex items-center justify-center overflow-hidden rounded-b-xl shadow-lg" style="background: #fff; border-bottom: 6px solid #c0392b;">
        <!-- Slider Images (เต็มสไลด์ สวยงามแบบ Hero Banner) -->
        <div class="w-full h-full absolute top-0 left-0">
            <img src="carbonara.jpg" alt="สปาเก็ตตี้คาโบนาร่า" class="slide-image active" data-caption="สปาเก็ตตี้คาโบนาร่า" style="object-fit:cover; width:100%; height:100%; left:0; top:0; border-radius:0; box-shadow:none; position:absolute;">
            <img src="Amazing Thailand_ Photo.jpg" alt="ข้าวกระเพราหมูสับไข่ดาว" class="slide-image" data-caption="ข้าวกระเพราหมูสับไข่ดาว" style="object-fit:cover; width:100%; height:100%; left:0; top:0; border-radius:0; box-shadow:none; position:absolute;">
            <img src="Fish and Chips.jpg" alt="Fish and Chips" class="slide-image" data-caption="Fish and Chips" style="object-fit:cover; width:100%; height:100%; left:0; top:0; border-radius:0; box-shadow:none; position:absolute;">
        </div>
        <!-- Overlay for visual effect (เพิ่มความสวยงามและอ่านตัวหนังสือได้) -->
        <div class="absolute inset-0" style="background: linear-gradient(90deg, rgba(192,57,43,0.10) 0%, rgba(231,76,60,0.10) 100%), linear-gradient(180deg,rgba(255,255,255,0.10) 60%,rgba(192,57,43,0.13) 100%);"></div>
        <!-- Banner Text (เพิ่มข้อความ Hero ให้ดูโปร) -->
        <div class="absolute z-30 left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 text-center">
            <h1 class="text-3xl md:text-5xl font-extrabold text-[#c0392b] drop-shadow-lg mb-4" style="text-shadow:0 2px 16px #e74c3c,0 1px 0 #fff;">Crystalline Restaurant</h1>
            <p class="text-lg md:text-2xl text-[#c0392b] font-medium drop-shadow mb-6">อร่อยทุกคำ ประทับใจทุกมื้อ</p>
            <!-- Modal for fish and chips -->
            <div id="modal-fishchips" class="fixed inset-0 bg-black/40 flex items-center justify-center z-50 hidden">
                <div class="bg-white rounded-xl shadow-2xl p-8 max-w-md w-full relative">
                    <button id="closeModalFishChips" class="absolute top-3 right-3 text-pink-500 hover:text-pink-700 text-2xl font-bold">&times;</button>
                    <img src="Fish and Chips.jpg" alt="" class="w-full h-48 object-cover rounded-lg mb-4">
                    <p class="text-gray-700 mb-4">ฟิชแอนด์ชิพส์ ปลาทอดกรอบ เสิร์ฟคู่เฟรนช์ฟรายส์และซอสทาร์ทาร์</p>
                    <button id="orderFishChipsModal" class="bg-pink-500 text-white px-6 py-2 rounded-full text-lg font-semibold hover:bg-pink-700 transition-colors w-full"><i class="fas fa-utensils mr-1"></i>ยืนยันสั่งซื้อ</button>
                </div>
            </div>
        </div>
        

        <!-- Overlay for visual effect (pink-white transparent gradient for brand feel) -->
        <div class="absolute inset-0" style="background: linear-gradient(90deg, rgba(236,72,153,0.10) 0%, rgba(253,242,248,0.10) 100%);"></div>

        <!-- Slider Navigation Buttons (manual left/right) -->
        <button id="prevBtn" class="slider-nav-button left-4" aria-label="สไลด์ก่อนหน้า" type="button" style="font-size:2.2rem; width:48px; height:48px; display:flex; align-items:center; justify-content:center;">
            <span style="font-size:2.2rem; font-weight:bold;">&#60;</span>
        </button>
        <button id="nextBtn" class="slider-nav-button right-4" aria-label="สไลด์ถัดไป" type="button" style="font-size:2.2rem; width:48px; height:48px; display:flex; align-items:center; justify-content:center;">
            <span style="font-size:2.2rem; font-weight:bold;">&#62;</span>
        </button>

        <!-- Slider Dots -->
        <div id="sliderDots" class="absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-2 z-20">
            <span class="slider-dot active" data-slide="0"></span>
            <span class="slider-dot" data-slide="1"></span>
            <span class="slider-dot" data-slide="2"></span>
        </div>
    </section>

    <!-- Product Categories Section -->
    <section class="py-10 px-6 md:px-12">
        <h2 class="text-3xl font-bold text-[#c0392b] mb-8 text-center">
            หมวดหมู่อาหาร
        </h2>
        <div class="grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-8 gap-4 md:gap-6">
            <a href="index02.html" class="flex flex-col items-center p-4 bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 cursor-pointer focus:outline-none focus:ring-2 focus:ring-[#c0392b]">
                <span class="text-3xl mb-2">🍚</span>
                <span class="text-center text-gray-700 font-medium">อาหารไทย</span>
            </a>
            <a href="index03.html" class="flex flex-col items-center p-4 bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 cursor-pointer focus:outline-none focus:ring-2 focus:ring-[#c0392b]">
                <span class="text-3xl mb-2">🌍</span>
                <span class="text-center text-gray-700 font-medium">อาหารสไตล์อังกฤษ</span>
            </a>
            <a href="index04.html" class="flex flex-col items-center p-4 bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 cursor-pointer focus:outline-none focus:ring-2 focus:ring-[#c0392b]">
                <span class="text-3xl mb-2">🍕</span>
                <span class="text-center text-gray-700 font-medium">อาหารอิตาลี</span>
            </a>
            <a href="index05.html" class="flex flex-col items-center p-4 bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 cursor-pointer focus:outline-none focus:ring-2 focus:ring-[#c0392b]">
                <span class="text-3xl mb-2">🍟</span>
                <span class="text-center text-gray-700 font-medium">เมนูทอด</span>
            </a>
            <a href="index06.html" class="flex flex-col items-center p-4 bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 cursor-pointer focus:outline-none focus:ring-2 focus:ring-[#c0392b]">
                <span class="text-3xl mb-2">🥨</span>
                <span class="text-center text-gray-700 font-medium">อาหารทานเล่น</span>
            </a>
            <a href="index07.html" class="flex flex-col items-center p-4 bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 cursor-pointer focus:outline-none focus:ring-2 focus:ring-[#c0392b]">
                <span class="text-3xl mb-2">🥤</span>
                <span class="text-center text-gray-700 font-medium">เครื่องดื่ม</span>
            </a>
            <a href="index08.html" class="flex flex-col items-center p-4 bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 cursor-pointer focus:outline-none focus:ring-2 focus:ring-[#c0392b]">
                <span class="text-3xl mb-2">🍮</span>
                <span class="text-center text-gray-700 font-medium">ขนมหวาน</span>
            </a>
            <a href="index09.html" class="flex flex-col items-center p-4 bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 cursor-pointer focus:outline-none focus:ring-2 focus:ring-[#c0392b]">
                <span class="text-3xl mb-2">🍰</span>
                <span class="text-center text-gray-700 font-medium">เค้ก</span>
            </a>
        </div>
    </section>

    <!-- Featured Products Section -->
    <section class="py-10 px-6 md:px-12 bg-white rounded-t-xl shadow-inner">
        <div class="flex justify-between items-center mb-8">
            <h2 class="text-3xl font-bold text-[#c0392b]">
                สินค้าเมนูยอดนิยม
            </h2>
            <a href="foodall.html" class="text-[#c0392b] hover:text-[#e74c3c] hover:underline font-medium">ดูทั้งหมด <i class="fas fa-arrow-right ml-1"></i></a>
        </div>

        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6">
            <!-- Food Card 1: Carbonara -->
            <div class="bg-gray-50 rounded-lg shadow-md overflow-hidden hover:shadow-xl transition-shadow duration-300">
                <div class="relative">
                    <img src="carbonara.jpg" alt="สปาเก็ตตี้คาโบนาร่า" class="w-full h-48 object-cover">
                    <span class="absolute top-2 left-2 bg-[#c0392b] text-white text-xs font-semibold px-2 py-1 rounded-full">เมนูแนะนำ</span>
                </div>
                <div class="p-4">
                    <h3 class="font-semibold text-lg text-black mb-1">สปาเก็ตตี้คาโบนาร่า</h3>
                    <p class="text-gray-700 text-sm mb-2">เส้นเหนียวนุ่ม คลุกซอสครีมเข้มข้น โรยชีสและเบคอน</p>
                    <div class="flex items-center justify-between">
                        <span class="text-[#c0392b] font-bold text-xl">฿ 259</span>
                        <button id="showModal-carbonara" class="bg-[#c0392b] text-white px-4 py-2 rounded-full text-sm hover:bg-white hover:text-[#c0392b] border-2 border-[#c0392b] transition-colors">
                            <i class="fas fa-utensils mr-1"></i> สั่งซื้อ
                        </button>
                    </div>
                </div>
            </div>
            <!-- Food Card 2: เมนูใหม่ (ตัวอย่าง) -->
            <div class="bg-gray-50 rounded-lg shadow-md overflow-hidden hover:shadow-xl transition-shadow duration-300">
                <div class="relative">
                    <img src="steak.jpg" alt="Steak" class="w-full h-48 object-cover">
                    <span class="absolute top-2 left-2 bg-[#c0392b] text-white text-xs font-semibold px-2 py-1 rounded-full">เมนูแนะนำ</span>
                </div>
                <div class="p-4">
                    <h3 class="font-semibold text-lg text-black mb-1">Steak</h3>
                    <p class="text-gray-700 text-sm mb-2">สเต็กเนื้อนุ่ม ย่างระดับพรีเมียม เสิร์ฟพร้อมซอสสูตรพิเศษ</p>
                    <div class="flex items-center justify-between">
                        <span class="text-[#c0392b] font-bold text-xl">฿ 399</span>
                        <button id="showModal-steak" class="bg-[#c0392b] text-white px-4 py-2 rounded-full text-sm hover:bg-white hover:text-[#c0392b] border-2 border-[#c0392b] transition-colors">
                            <i class="fas fa-utensils mr-1"></i> สั่งซื้อ
                        </button>
                    </div>
                </div>
            </div>
            <!-- Food Card 3: กระเพราหมูสับไข่ดาว -->
            <div class="bg-gray-50 rounded-lg shadow-md overflow-hidden hover:shadow-xl transition-shadow duration-300">
                <div class="relative">
                    <img src="Amazing Thailand_ Photo.jpg" alt="กระเพราหมูสับไข่ดาว" class="w-full h-48 object-cover">
                    <span class="absolute top-2 left-2 bg-[#c0392b] text-white text-xs font-semibold px-2 py-1 rounded-full">เมนูแนะนำ</span>
                </div>
                <div class="p-4">
                    <h3 class="font-semibold text-lg text-black mb-1">ข้าวกระเพราหมูสับไข่ดาว</h3>
                    <p class="text-gray-700 text-sm mb-2">รสจัดจ้าน หอมใบกระเพรา ไข่ดาวกรอบนอกนุ่มใน</p>
                    <div class="flex items-center justify-between">
                        <span class="text-[#c0392b] font-bold text-xl">฿ 89</span>
                        <button id="showModal-krapao" class="bg-[#c0392b] text-white px-4 py-2 rounded-full text-sm hover:bg-white hover:text-[#c0392b] border-2 border-[#c0392b] transition-colors">
                            <i class="fas fa-utensils mr-1"></i> สั่งซื้อ
                        </button>
                    </div>
                </div>
            </div>
            <!-- Food Card 4: Fish and Chips -->
            <div class="bg-gray-50 rounded-lg shadow-md overflow-hidden hover:shadow-xl transition-shadow duration-300">
                <div class="relative">
                    <img src="Fish and Chips.jpg" alt="Fish and Chips" class="w-full h-48 object-cover">
                    <span class="absolute top-2 left-2 bg-[#c0392b] text-white text-xs font-semibold px-2 py-1 rounded-full">เมนูแนะนำ</span>
                </div>
                <div class="p-4">
                    <h3 class="font-semibold text-lg text-black mb-1">Fish and Chips</h3>
                    <p class="text-gray-700 text-sm mb-2">ปลาทอดกรอบ เสิร์ฟคู่เฟรนช์ฟรายส์และซอสทาร์ทาร์</p>
                    <div class="flex items-center justify-between">
                        <span class="text-[#c0392b] font-bold text-xl">฿ 159</span>
                        <button id="showModal-fishchips" class="bg-[#c0392b] text-white px-4 py-2 rounded-full text-sm hover:bg-white hover:text-[#c0392b] border-2 border-[#c0392b] transition-colors">
                            <i class="fas fa-utensils mr-1"></i> สั่งซื้อ
                        </button>
                    </div>
                </div>
            </div>

            <!-- Food Card 5: Authentic Spaghetti alla Chitarra with Tiny Meatballs -->
            <div class="bg-gray-50 rounded-lg shadow-md overflow-hidden hover:shadow-xl transition-shadow duration-300">
                <div class="relative">
                    <img src="Authentic Spaghetti alla Chitarra with Tiny Meatballs Recipe.jpg" alt="Authentic Spaghetti alla Chitarra with Tiny Meatballs" class="w-full h-48 object-cover">
                    <span class="absolute top-2 left-2 bg-[#c0392b] text-white text-xs font-semibold px-2 py-1 rounded-full">เมนูแนะนำ</span>
                </div>
                <div class="p-4">
                    <h3 class="font-semibold text-lg text-black mb-1">Authentic Spaghetti alla Chitarra with Tiny Meatballs</h3>
                    <p class="text-gray-700 text-sm mb-2">สปาเก็ตตี้เส้นสดซอสแดงโฮมเมด เสิร์ฟกับมีทบอลลูกเล็กสูตรต้นตำรับอิตาเลียน</p>
                    <div class="flex items-center justify-between">
                        <span class="text-[#c0392b] font-bold text-xl">฿ 349</span>
                        <button id="showModal-spaghetti-chitarra" class="bg-[#c0392b] text-white px-4 py-2 rounded-full text-sm hover:bg-white hover:text-[#c0392b] border-2 border-[#c0392b] transition-colors">
                            <i class="fas fa-utensils mr-1"></i> สั่งซื้อ
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer Section -->
    <!-- Modals for 4 popular menu items -->
    <div id="modal-food-detail" class="fixed inset-0 bg-black/40 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-xl shadow-2xl p-8 max-w-md w-full relative">
            <button id="closeModalFoodDetail" class="absolute top-3 right-3 text-pink-500 hover:text-pink-700 text-2xl font-bold">&times;</button>
            <img id="modalFoodImg" src="" alt="" class="w-full h-48 object-cover rounded-lg mb-4">
            <h3 id="modalFoodName" class="font-semibold text-lg text-black mb-2"></h3>
            <p id="modalFoodDesc" class="text-gray-700 mb-2"></p>
            <div id="modalFoodIngredients" class="mb-4">
                <span class="font-semibold text-[#e74c3c]">ส่วนผสม:</span>
                <ul class="list-disc list-inside text-gray-700 mt-1" id="modalFoodIngredientsList"></ul>
            </div>
            <span id="modalFoodPrice" class="text-pink-600 font-bold text-xl block mb-4"></span>
        <button id="confirmOrderFood" class="bg-[#e74c3c] text-white px-6 py-2 rounded-full text-lg font-semibold hover:bg-white hover:text-[#e74c3c] border-2 border-[#e74c3c] transition-colors w-full"><i class="fas fa-utensils mr-1"></i>ยืนยันสั่งซื้อ</button>
        </div>
    </div>
    <footer class="bg-[#111] text-white py-8 px-6 md:px-12 mt-10 border-t border-[#222]">
        <div class="container mx-auto grid grid-cols-1 md:grid-cols-3 gap-8">
            <div>
            <h3 class="text-xl font-bold mb-4 text-[#c0392b]">Crystalline Restaurant</h3>
            <p class="text-white text-sm">
                Crystalline Restaurant บรรยากาศดี อาหารไทยต้นตำรับและนานาชาติ พร้อมบริการระดับพรีเมียม
            </p>
            </div>
            <div>
            <h3 class="text-lg font-semibold mb-4 text-[#c0392b]">ลิงก์ด่วน</h3>
            <ul class="space-y-2 text-sm">
                <li><a href="foodall.html" class="text-white hover:text-[#e74c3c] transition-colors">เมนูทั้งหมด</a></li>
            </ul>
            </div>
            <div>
            <h3 class="text-lg font-semibold mb-4 text-[#c0392b]">ติดต่อเรา</h3>
            <p class="text-white text-sm">
                อีเมล: <span class="text-white">info@luxury5star.com</span><br>
                โทร: <span class="text-white">012-345-6789</span><br>
                ที่อยู่: <span class="text-white">123 ถนนอาหารหรู, กรุงเทพฯ, 10000</span>
            </p>
            <div class="flex space-x-4 mt-4">
                <a href="#" class="text-white hover:text-[#e74c3c] transition-colors"><i class="fab fa-facebook-f text-xl"></i></a>
                <a href="#" class="text-white hover:text-[#e74c3c] transition-colors"><i class="fab fa-instagram text-xl"></i></a>
                <a href="#" class="text-white hover:text-[#e74c3c] transition-colors"><i class="fab fa-twitter text-xl"></i></a>
            </div>
            </div>
        </div>
        <div class="text-center text-white text-sm mt-8 pt-6 border-t border-[#222]">
            &copy; 2025 <span class="text-white">Crystalline Restaurant</span>. All rights reserved.
        </div>
    </footer>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script>
  const firebaseConfig = {
    apiKey: "AIzaSyD60lZDB8Qk-kl2GUL-_NK7JItML9S-TEc",
    authDomain: "crystalline-restaurant.firebaseapp.com",
    projectId: "crystalline-restaurant",
    storageBucket: "crystalline-restaurant.firebasestorage.app",
    messagingSenderId: "637558385298",
    appId: "1:637558385298:web:ac380bfdabebb69009544b",
    measurementId: "G-4RVP21DGJY"
  };
  firebase.initializeApp(firebaseConfig);

  // ซ่อนปุ่มทันทีที่รู้สถานะผู้ใช้
  firebase.auth().onAuthStateChanged(function(user) {
  const loginBtn = document.getElementById('login-btn');
  const logoutBtn = document.getElementById('logout-btn');
  if (user) {
    if (loginBtn) loginBtn.style.display = 'none';
    if (logoutBtn) logoutBtn.style.display = 'flex';
  } else {
    if (loginBtn) loginBtn.style.display = 'block';
    if (logoutBtn) logoutBtn.style.display = 'none';
  }
});

document.getElementById('logout-btn').addEventListener('click', function() {
  firebase.auth().signOut().then(function() {
    window.location.reload();
  });
});
    </script>

    <script>
        // Modal for food detail (4 popular menu)
        document.addEventListener('DOMContentLoaded', function() {
            const modal = document.getElementById('modal-food-detail');
            const closeModal = document.getElementById('closeModalFoodDetail');
            const confirmBtn = document.getElementById('confirmOrderFood');
            const img = document.getElementById('modalFoodImg');
            const name = document.getElementById('modalFoodName');
            const desc = document.getElementById('modalFoodDesc');
            const price = document.getElementById('modalFoodPrice');
            let currentMenu = null;
            const foodMenus = {
                carbonara: {
                    id: 'carbonara',
                    name: 'สปาเก็ตตี้คาโบนาร่า',
                    price: 259,
                    image: 'carbonara.jpg',
                    desc: 'เส้นเหนียวนุ่ม คลุกซอสครีมเข้มข้น โรยชีสและเบคอน',
                    ingredients: ['เส้นสปาเก็ตตี้', 'ครีม', 'ชีส', 'เบคอน', 'ไข่', 'พริกไทยดำ']
                },
                steak: {
                    id: 'steak',
                    name: 'Steak',
                    price: 399,
                    image: 'steak.jpg',
                    desc: 'สเต็กเนื้อนุ่ม ย่างระดับพรีเมียม เสิร์ฟพร้อมซอสสูตรพิเศษ',
                    ingredients: ['เนื้อวัว/หมู', 'เกลือ', 'พริกไทย', 'น้ำมันมะกอก', 'ซอสสูตรพิเศษ', 'ผักเคียง']
                },
                krapao: {
                    id: 'krapao',
                    name: 'ข้าวกระเพราหมูสับไข่ดาว',
                    price: 89,
                    image: 'Amazing Thailand_ Photo.jpg',
                    desc: 'รสจัดจ้าน หอมใบกระเพรา ไข่ดาวกรอบนอกนุ่มใน',
                    ingredients: ['ข้าวสวย', 'หมูสับ', 'ใบกระเพรา', 'พริก', 'กระเทียม', 'ซอสปรุงรส', 'ไข่ดาว']
                },
                fishchips: {
                    id: 'fishchips',
                    name: 'Fish and Chips',
                    price: 159,
                    image: 'Fish and Chips.jpg',
                    desc: 'ปลาทอดกรอบ เสิร์ฟคู่เฟรนช์ฟรายส์และซอสทาร์ทาร์',
                    ingredients: ['ปลาทอด', 'แป้งทอด', 'มันฝรั่ง', 'น้ำมันพืช', 'ซอสทาร์ทาร์', 'เลมอน']
                },
                'spaghetti-chitarra': {
                    id: 'spaghetti-chitarra',
                    name: 'Authentic Spaghetti alla Chitarra with Tiny Meatballs',
                    price: 349,
                    image: 'Authentic Spaghetti alla Chitarra with Tiny Meatballs Recipe.jpg',
                    desc: 'สปาเก็ตตี้เส้นสดซอสแดงโฮมเมด เสิร์ฟกับมีทบอลลูกเล็กสูตรต้นตำรับอิตาเลียน',
                    ingredients: ['เส้นสปาเก็ตตี้สด', 'เนื้อวัวบด', 'ไข่', 'ขนมปัง', 'ชีสพาร์มีซาน', 'ซอสมะเขือเทศ', 'กระเทียม', 'หัวหอม', 'น้ำมันมะกอก', 'เครื่องเทศอิตาเลียน']
                }
            };
            Object.keys(foodMenus).forEach(key => {
                const btn = document.getElementById('showModal-' + key);
                if (btn) {
                    btn.addEventListener('click', function() {
                        const menu = foodMenus[key];
                        img.src = menu.image;
                        img.alt = menu.name;
                        name.textContent = menu.name;
                        desc.textContent = menu.desc;
                        price.textContent = '฿ ' + menu.price;
                        // ส่วนผสม
                        const ingredientsList = document.getElementById('modalFoodIngredientsList');
                        ingredientsList.innerHTML = '';
                        if (menu.ingredients && Array.isArray(menu.ingredients)) {
                            menu.ingredients.forEach(item => {
                                const li = document.createElement('li');
                                li.textContent = item;
                                ingredientsList.appendChild(li);
                            });
                        }
                        modal.classList.remove('hidden');
                        currentMenu = menu;
                    });
                }
            });
            closeModal.addEventListener('click', function() {
                modal.classList.add('hidden');
            });
            modal.addEventListener('click', function(e) {
                if (e.target === modal) modal.classList.add('hidden');
            });
            confirmBtn.addEventListener('click', function() {
                if (!currentMenu) return;
                const CART_KEY = 'razorhub_cart';
                let cart = JSON.parse(localStorage.getItem(CART_KEY)) || [];
                const found = cart.find(item => item.id === currentMenu.id);
                if (found) {
                    found.quantity += 1;
                } else {
                    cart.push({
                        id: currentMenu.id,
                        name: currentMenu.name,
                        price: currentMenu.price,
                        quantity: 1,
                        image: currentMenu.image
                    });
                }
                localStorage.setItem(CART_KEY, JSON.stringify(cart));
                updateCartCount();
                confirmBtn.innerHTML = '<i class="fas fa-check mr-1"></i> เพิ่มแล้ว!';
                confirmBtn.disabled = true;
                setTimeout(() => {
                    confirmBtn.innerHTML = '<i class="fas fa-utensils mr-1"></i>ยืนยันสั่งซื้อ';
                    confirmBtn.disabled = false;
                    modal.classList.add('hidden');
                }, 1200);
            });
        });
        // Modal & Order for fish and chips slide only
        document.addEventListener('DOMContentLoaded', function() {
            const orderBtn = document.getElementById('orderFishChipsSlide');
            const modal = document.getElementById('modal-fishchips');
            const closeModal = document.getElementById('closeModalFishChips');
            const orderModalBtn = document.getElementById('orderFishChipsModal');
            if (orderBtn && modal && closeModal && orderModalBtn) {
                orderBtn.addEventListener('click', function() {
                    modal.classList.remove('hidden');
                });
                closeModal.addEventListener('click', function() {
                    modal.classList.add('hidden');
                });
                modal.addEventListener('click', function(e) {
                    if (e.target === modal) modal.classList.add('hidden');
                });
                orderModalBtn.addEventListener('click', function() {
                    const CART_KEY = 'razorhub_cart';
                    let cart = JSON.parse(localStorage.getItem(CART_KEY)) || [];
                    const found = cart.find(item => item.id === 'fishchips');
                    if (found) {
                        found.quantity += 1;
                    } else {
                        cart.push({
                            id: 'fishchips',
                            name: 'Fish and Chips',
                            price: 159,
                            quantity: 1,
                            image: 'Fish and Chips.jpg'
                        });
                    }
                    localStorage.setItem(CART_KEY, JSON.stringify(cart));
                    orderModalBtn.innerHTML = '<i class="fas fa-check mr-1"></i> เพิ่มแล้ว!';
                    orderModalBtn.disabled = true;
                    setTimeout(() => {
                        orderModalBtn.innerHTML = '<i class=\'fas fa-utensils mr-1\'></i>ยืนยันสั่งซื้อ';
                        orderModalBtn.disabled = false;
                        modal.classList.add('hidden');
                    }, 1200);
                });
            }
        });
        document.addEventListener('DOMContentLoaded', function() {
            const slides = document.querySelectorAll('.slide-image');
            const dotsContainer = document.getElementById('sliderDots');
            const dots = dotsContainer.querySelectorAll('.slider-dot');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            let currentSlide = 0;
            let slideInterval;

            // Function to show a specific slide and update caption
            function showSlide(index) {
                slides.forEach(slide => slide.classList.remove('active'));
                dots.forEach(dot => dot.classList.remove('active'));
                if (slides[index]) {
                    slides[index].classList.add('active');
                }
                if (dots[index]) {
                    dots[index].classList.add('active');
                }
                // Caption bar removed (no caption update)
                currentSlide = index;
            }
            // Remove caption bar if exists
            const oldCaption = document.getElementById('slideCaption');
            if (oldCaption) {
                oldCaption.remove();
            }

            // Function to move to the next slide
            function nextSlide() {
                currentSlide = (currentSlide + 1) % slides.length;
                showSlide(currentSlide);
            }

            // Function to move to the previous slide
            function prevSlide() {
                currentSlide = (currentSlide - 1 + slides.length) % slides.length;
                showSlide(currentSlide);
            }

            // Start automatic slide change
            function startSlideShow() {
                slideInterval = setInterval(nextSlide, 5000); // Change slide every 5 seconds
            }

            // Stop automatic slide change
            function stopSlideShow() {
                clearInterval(slideInterval);
            }

            // Event Listeners for navigation buttons
            prevBtn.addEventListener('click', () => {
                stopSlideShow(); // Stop auto slide on manual interaction
                prevSlide();
                startSlideShow(); // Restart auto slide
            });

            nextBtn.addEventListener('click', () => {
                stopSlideShow(); // Stop auto slide on manual interaction
                nextSlide();
                startSlideShow(); // Restart auto slide
            });

            // Event Listeners for dots
            dots.forEach(dot => {
                dot.addEventListener('click', (event) => {
                    stopSlideShow(); // Stop auto slide on manual interaction
                    const slideIndex = parseInt(event.target.dataset.slide);
                    showSlide(slideIndex);
                    startSlideShow(); // Restart auto slide
                });
            });

            // Initialize the first slide and start the slideshow
            showSlide(currentSlide);
            startSlideShow();
        });

        // เพิ่มฟังก์ชันสำหรับปุ่มสั่งซื้ออาหารทุกเมนู (Food Card)
        // ฟังก์ชันอัปเดตตัวเลขตะกร้าสินค้า
        function updateCartCount() {
            const CART_KEY = 'razorhub_cart';
            let cart = JSON.parse(localStorage.getItem(CART_KEY)) || [];
            let count = cart.reduce((sum, item) => sum + (item.quantity || 0), 0);
            const cartCount = document.getElementById('cart-count');
            if (cartCount) {
                cartCount.textContent = count;
                cartCount.style.display = count > 0 ? 'inline-block' : 'none';
            }
        }
        document.addEventListener('DOMContentLoaded', function() {
            const foodMenus = [
                {
                    id: 'carbonara',
                    name: 'สปาเก็ตตี้คาโบนาร่า',
                    price: 259,
                    image: 'carbonara.jpg'
                },
                {
                    id: 'steak',
                    name: 'Steak',
                    price: 399,
                    image: 'steak.jpg'
                },
                {
                    id: 'krapao',
                    name: 'ข้าวกระเพราหมูสับไข่ดาว',
                    price: 89,
                    image: 'Amazing Thailand_ Photo.jpg'
                },
                {
                    id: 'fishchips',
                    name: 'Fish and Chips',
                    price: 159,
                    image: 'Fish and Chips.jpg'
                },
                {
                    id: 'spaghetti-chitarra',
                    name: 'Authentic Spaghetti alla Chitarra with Tiny Meatballs',
                    price: 349,
                    image: 'Authentic Spaghetti alla Chitarra with Tiny Meatballs Recipe.jpg'
                }
            ];
            foodMenus.forEach(menu => {
                const btn = document.getElementById('addToCart-' + menu.id);
                if (btn) {
                    btn.addEventListener('click', function() {
                        const CART_KEY = 'razorhub_cart';
                        let cart = JSON.parse(localStorage.getItem(CART_KEY)) || [];
                        const found = cart.find(item => item.id === menu.id);
                        if (found) {
                            found.quantity += 1;
                        } else {
                            cart.push({
                                id: menu.id,
                                name: menu.name,
                                price: menu.price,
                                quantity: 1,
                                image: menu.image
                            });
                        }
                        localStorage.setItem(CART_KEY, JSON.stringify(cart));
                        updateCartCount();
                        btn.innerHTML = '<i class="fas fa-check mr-1"></i> เพิ่มแล้ว!';
                        btn.disabled = true;
                        setTimeout(() => {
                            btn.innerHTML = '<i class="fas fa-utensils mr-1"></i> สั่งซื้อ';
                            btn.disabled = false;
                        }, 1200);
                    });
                }
            });
            // อัปเดตตัวเลขตะกร้าทันทีเมื่อโหลดหน้า
            updateCartCount();
        });
    </script>
    <script>
document.addEventListener('DOMContentLoaded', function() {
    const CART_KEY = 'razorhub_cart';
    document.querySelectorAll('.add-to-cart-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            const id = btn.dataset.id;
            const name = btn.dataset.name;
            const price = parseFloat(btn.dataset.price);
            const image = btn.dataset.image || '';
            let cart = JSON.parse(localStorage.getItem(CART_KEY)) || [];
            const found = cart.find(item => item.id === id);
            if (found) {
                found.quantity += 1;
            } else {
                cart.push({ id, name, price, quantity: 1, image });
            }
            localStorage.setItem(CART_KEY, JSON.stringify(cart));
            // (optionally) update cart badge or show a message
        });
    });
});
</script>
</body>
</html>
